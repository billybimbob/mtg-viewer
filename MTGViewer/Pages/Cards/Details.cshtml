@page
@model MTGViewer.Pages.Cards.DetailsModel

@{
    ViewData["Title"] = "Details";
}

<h1>@Model.Card.Name</h1>
<hr />

<div>
    <label for="cardPick">Alternate Versions</label>
    <form method="GET">
        <select title="Pick Card"
            onchange="this.form.submit()"
            id="cardPick"
            name="id" 
            class="form-control">
            @foreach (var cardAlt in Model.CardAlts)
            {
                <option value="@cardAlt.Id" selected="@(cardAlt.Id == Model.Card.Id)" >
                    @cardAlt.Name (@cardAlt.SetName)
                </option>
            }
        </select>
    </form>
</div>

<hr />
<div>
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.ManaCost)
        </dt>
        <dd class="col-sm-10">
            @foreach (var cost in Model.Card.GetManaSymbols())
            {
                <i class="ms ms-@cost ms-cost"></i>
            }
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.Cmc)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(m => m.Card.Cmc)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.Rarity)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(m => m.Card.Rarity)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.SetName)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(m => m.Card.SetName)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.SuperTypes)
        </dt>
        <dd class="col-sm-10">
            @(string.Join(" ", Model.Card.SuperTypes.Select(st => st.Name)))
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.Types)
        </dt>
        <dd class="col-sm-10">
            @(string.Join(" ", Model.Card.Types.Select(st => st.Name)))
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.SubTypes)
        </dt>
        <dd class="col-sm-10">
            @(string.Join(" ", Model.Card.SubTypes.Select(st => st.Name)))
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.Text)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(m => m.Card.Text)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.Flavor)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(m => m.Card.Flavor)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.Artist)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(m => m.Card.Artist)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.Power)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(m => m.Card.Power)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.Toughness)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(m => m.Card.Toughness)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.Loyalty)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(m => m.Card.Loyalty)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(m => m.Card.ImageUrl)
        </dt>
        <dd class="col-sm-10">
            <img alt="@Model.Card.Name" src="@Model.Card.ImageUrl"/>
        </dd>
    </dl>
</div>
<div>
    <!-- js hack -->
    <!--a href="javascript:history.go(-1)" -->
    <a href="@Model.Reffer"
       class="btn btn-secondary mb-3">
       Back </a>

    <!--a asp-page="./Edit"
       asp-route-id="@Model.Card.Id"
       class="btn btn-secondary mb-3">
       Edit </a-->

    @if (Model.IsSignedIn)
    {
        <a asp-page="./Delete"
           asp-route-id="@Model.Card.Id"
           class="btn btn-danger mb-3">
           Delete </a>
    }
</div>

@page "{id}"
@model Cards.DetailsModel
@using Microsoft.AspNetCore.Mvc.Rendering
@{
    ViewData["Title"] = "Details";
}
@inject SymbolFormatter MtgSymbols


<div class="d-flex align-items-center"> 
    <h1> @Model.Card.Name </h1> 
    <div class="h5 ml-3 my-0">
        @MtgSymbols.Format(Model.Card.ManaCost).ToHtmlString()
    </div>
</div>


<!-- js hack -->
<a href="javascript:history.go(-1)"
    class="btn btn-secondary">
    Back </a>

@if (Model.CardAlts.Any())
{
    <div class="d-inline dropdown">

        <button id="altButton" type="button" class="btn btn-secondary dropdown-toggle"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >
            Alternate Versions
        </button>

        <div class="dropdown-menu" aria-labelledby="altButton">
            @foreach (var card in Model.CardAlts)
            {
                <a class="dropdown-item" asp-page="Details" asp-route-id="@card.Id" >
                    @card.Name (@card.SetName)
                </a>
            }
        </div>
    </div>
}

@if (Model.IsSignedIn)
{
    <a asp-page="./Delete" asp-route-id="@Model.Card.Id"
        class="btn btn-danger">
        Delete </a>
}

@(await Html.PartialAsync("_CardPartial", Model.Card))
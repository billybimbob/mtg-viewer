@page
@model MTGViewer.Pages.Trades.SuggestModel

@{
    var card = Model.Suggesting;
    ViewData["Title"] = $"Suggest {card.Name}";
}

<form method="post">
    @if (Model.Users != null)
    {
        <div class="input-group">
            @foreach(var user in Model.Users)
            {
                <div class="input-group-prepend">
                    <div class="input-group-text">
                        <input type="radio" name="userId" value="@user.Id" />
                    </div>
                </div>
                <span class="form-control">@user.UserName</span>
            }
        </div>

        <input type="submit" asp-page-handler="User" value="Suggest To" />
    }
    else
    {
        <div class="input-group">
            @foreach(var (deck, colors) in Model.Decks)
            {
                // Decks should be not null
                <div class="input-group-prepend">
                    <div class="input-group-text">
                        <input type="radio" name="deckId" value="@deck.Id" />
                    </div>
                </div>

                <span class="form-control">@deck.Name</span>
                <div class="form-control">
                    @foreach(var color in colors)
                    {
                        <span class="m-1 ms ms-@color ms-cost"></span>
                    }
                </div>
            }
        </div>

        <input type="submit" asp-page-handler="Deck" value="Suggest" />
    }
</form>